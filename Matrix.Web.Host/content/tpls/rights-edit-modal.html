<div class="modal-content">
    <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" ng-click="model.close()" data-target="#report-window" aria-hidden="true">
            <img ng-src="/img/cross.png" width="24" />
        </button>
        <h3 class="modal-title">
            <img src="/img/group_key.png" width="32" />
            Права
        </h3>
    </div>
    <div class="modal-body" style="padding:5px">
        <div ag-grid="opt" class="ag-fresh" style="height:70%"></div>

        <!--<input type="text" class="form-control" ng-model="filter" placeholder="Фильтр" />
        <div ui-tree="options" data-drag-enabled="false">
            <ol ui-tree-nodes ng-model="roots" id="tree-root">
                <li ng-repeat="node in roots" ui-tree-node ng-include="'right-nodes-renderer.html'"></li>
            </ol>
        </div>-->
    </div>
    <div class="modal-footer">
        <button class="btn btn-primary" ng-click="model.save()">Сохранить</button>
        <button class="btn btn-warning" ng-click="model.close()">Закрыть</button>
    </div>
</div>

<!--<script type="text/ng-template" id="right-nodes-renderer.html">
    <div ui-tree-handle class="tree-node tree-node-content" style="cursor:pointer">
        <span ng-if="node.children.length>0" data-nodrag ng-click="toggle(this)">
            <img ng-if="collapsed" src="./img/bullet_toggle_plus.png" />
            <img ng-if="!collapsed" src="./img/bullet_toggle_minus.png" />
        </span>
        <span ng-if="node.children.length===0" data-nodrag ng-click="toggle(this)">
            <img src="./img/bullet_toggle_empty.png" />
        </span>

        <span ng-switch on="node.class" ng-click="select(this)">
            <span ng-switch-when="user">
                <img src="./img/user.png" width="20" />
                <span style="text-overflow:ellipsis;white-space:normal;overflow:hidden">
                    {{node.name}} [{{node.login}}]
                </span>
            </span>
            <span ng-switch-when="group">
                <span ng-if="node.allow !== node.old" style="color:red">*</span>
                <img src="./img/group.png" width="20" />
                <span style="text-overflow:ellipsis;white-space:normal;overflow:hidden">
                    {{node.name}}
                </span>
                <input type="checkbox" ng-disabled="node.readOnly" ng-model="node.allow" />

            </span>
            <span ng-switch-default>
                <img src="./img/eraser.png" width="20" />
            </span>
        </span>
    </div>
    <ol ui-tree-nodes="" ng-model="node.children" ng-class="{hidden: collapsed}">
        <li ng-repeat="node in node.children" ui-tree-node ng-include="'right-nodes-renderer.html'" collapsed="true">
        </li>
    </ol>
</script>-->

<script type="text/ng-template" id="userRightTpl.html">
    <span>HAHAHA</span>
    <input type="checkbox" class="form-control" ng-model="data.checked" />
</script>